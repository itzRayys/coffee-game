[gd_scene load_steps=32 format=3 uid="uid://d0ml0manfpx0i"]

[ext_resource type="Script" path="res://Assets/Scripts/Main/drinkStation.gd" id="1_s7vgl"]
[ext_resource type="PackedScene" uid="uid://b40k5floa8yv3" path="res://Assets/Scenes/Appliances/refrigerator.tscn" id="2_l0egd"]
[ext_resource type="Texture2D" uid="uid://ctyuysku1j4fi" path="res://Assets/Sprites/background_drinkStation_temp.png" id="2_w42l3"]
[ext_resource type="PackedScene" uid="uid://cxt21b7snyjxu" path="res://Assets/Scenes/Appliances/espresso_machine.tscn" id="3_qo1qy"]
[ext_resource type="Script" path="res://Assets/Scripts/counter.gd" id="3_ycd1a"]
[ext_resource type="PackedScene" uid="uid://dajj1bi6f3nm" path="res://Assets/Scenes/Appliances/grinder_machine.tscn" id="4_s16h3"]
[ext_resource type="PackedScene" uid="uid://y4db3g2d1lnc" path="res://Assets/Scenes/Interactables/coffee_can.tscn" id="5_xpbf4"]
[ext_resource type="PackedScene" uid="uid://b4urxqgemssf4" path="res://Assets/Scenes/Appliances/scale.tscn" id="10_mo16j"]
[ext_resource type="PackedScene" uid="uid://bj3d5cqqj77os" path="res://Assets/Scenes/Interactables/spoon_holder.tscn" id="10_u3nf1"]
[ext_resource type="Script" path="res://Assets/Scripts/Drink Station/mugSpawn.gd" id="12_sis4o"]
[ext_resource type="PackedScene" uid="uid://bk1aif7ngi36i" path="res://Assets/Scenes/portafilter_hook.tscn" id="13_o2i7c"]
[ext_resource type="PackedScene" uid="uid://3ilx8vwupag3" path="res://Assets/Scenes/Interactables/mug.tscn" id="14_x84ws"]
[ext_resource type="PackedScene" uid="uid://c2vblcdhbl1e2" path="res://Assets/Scenes/Interactables/spoon.tscn" id="15_ar1tk"]
[ext_resource type="PackedScene" uid="uid://codnda2lxchgh" path="res://Assets/Scenes/Interactables/portafilter.tscn" id="16_1hpvy"]
[ext_resource type="PackedScene" uid="uid://c6kvvfnpnf77q" path="res://Assets/Scenes/Interactables/tamper.tscn" id="16_o3ts7"]
[ext_resource type="Script" path="res://Assets/Scripts/Drink Station/drinkSubmit.gd" id="22_7jnac"]
[ext_resource type="Script" path="res://Assets/Scripts/Drink Station/rinse.gd" id="23_nqr4o"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gj8uw"]
size = Vector2(1919, 490)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4ow20"]
size = Vector2(118, 67)

[sub_resource type="Gradient" id="Gradient_2v4wr"]
offsets = PackedFloat32Array(0.138554, 0.222892, 0.373494)
colors = PackedColorArray(0.72, 0.986, 1, 1, 0.71, 0.71, 0.71, 1, 0.5022, 0.79461, 0.81, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_r6n3a"]
gradient = SubResource("Gradient_2v4wr")
fill = 1
fill_from = Vector2(0.5, 0.5)

[sub_resource type="Gradient" id="Gradient_jk78w"]
colors = PackedColorArray(0, 0, 0, 1, 0.3, 0.358333, 1, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_exhuu"]
gradient = SubResource("Gradient_jk78w")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tw5nh"]
size = Vector2(64, 64)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tcjvv"]
size = Vector2(264, 136)

[sub_resource type="Gradient" id="Gradient_r4eyu"]
colors = PackedColorArray(0.808594, 0.570313, 0.796875, 1, 0.63, 0.3276, 0.61488, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_pteax"]
gradient = SubResource("Gradient_r4eyu")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_q06cy"]
size = Vector2(425, 214)

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_eb43u"]
load_path = "res://.godot/imported/temp_glow.png-87b218c3870482013a681af574af9c09.ctex"

[sub_resource type="Gradient" id="Gradient_el257"]
colors = PackedColorArray(0.252533, 0.32, 0.2464, 1, 0.4928, 0.679947, 0.88, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_fefls"]
gradient = SubResource("Gradient_el257")

[node name="drinkStation" type="Node2D" node_paths=PackedStringArray("_holdingComponent_connections", "filterContainers", "mugContainers", "spoonBlockers", "tamperBlockers")]
process_mode = 1
script = ExtResource("1_s7vgl")
_printContainerStates = false
_holdingComponent_connections = [NodePath("grinder"), NodePath("coffeeCan"), NodePath("scale"), NodePath("rinse"), NodePath("refrigerator"), NodePath("portafilters/portafilter"), NodePath("portafilters/portafilter2"), NodePath("spoonHolder"), NodePath("drinkSubmit"), NodePath("mugs/mug3"), NodePath("portafilters/portafilterHook"), NodePath("portafilters/portafilterHook2"), NodePath("espressoMachine"), NodePath("mugs/mug2"), NodePath("mugs/mug"), NodePath("mugs/mug4"), NodePath("tamper"), NodePath("mugs/mugSpawn")]
filterContainers = [NodePath("grinder"), NodePath("coffeeCan"), NodePath("scale"), NodePath("portafilters/portafilterHook"), NodePath("portafilters/portafilterHook2"), NodePath("espressoMachine")]
mugContainers = [NodePath("drinkSubmit"), NodePath("espressoMachine")]
spoonBlockers = [NodePath("portafilters/portafilter"), NodePath("portafilters/portafilter2")]
tamperBlockers = [NodePath("portafilters/portafilter"), NodePath("portafilters/portafilter2")]

[node name="bg" type="Sprite2D" parent="."]
texture = ExtResource("2_w42l3")
centered = false
metadata/_edit_lock_ = true

[node name="counter" type="Node2D" parent="."]
script = ExtResource("3_ycd1a")

[node name="positive" type="Area2D" parent="counter"]
position = Vector2(913, 782)
collision_layer = 257

[node name="collisionShape2d" type="CollisionShape2D" parent="counter/positive"]
position = Vector2(47.5, -8)
shape = SubResource("RectangleShape2D_gj8uw")
debug_color = Color(0, 0.701961, 0.0823529, 0.00392157)

[node name="negative2" type="Area2D" parent="counter"]
collision_layer = 4097

[node name="collisionShape2d" type="CollisionShape2D" parent="counter/negative2"]
position = Vector2(959, 612.5)
shape = SubResource("RectangleShape2D_4ow20")
debug_color = Color(0.811765, 0.176471, 0.176471, 0.027451)

[node name="grinder" parent="." instance=ExtResource("4_s16h3")]
dispenseAmount = 0.325

[node name="espressoMachine" parent="." instance=ExtResource("3_qo1qy")]
position = Vector2(1244, 446.563)

[node name="coffeeCan" parent="." instance=ExtResource("5_xpbf4")]
position = Vector2(756, 933)

[node name="scale" parent="." instance=ExtResource("10_mo16j")]

[node name="rinse" type="Node2D" parent="." node_paths=PackedStringArray("rinseDEBUG")]
position = Vector2(252, 647)
script = ExtResource("23_nqr4o")
rinseDEBUG = NodePath("sprite2d2")

[node name="sprite2d" type="Sprite2D" parent="rinse"]
texture = SubResource("GradientTexture2D_r6n3a")

[node name="sprite2d2" type="Sprite2D" parent="rinse"]
visible = false
position = Vector2(-27, -40)
scale = Vector2(0.328125, 0.796875)
texture = SubResource("GradientTexture2D_exhuu")

[node name="area2d" type="Area2D" parent="rinse"]

[node name="collisionShape2d" type="CollisionShape2D" parent="rinse/area2d"]
shape = SubResource("RectangleShape2D_tw5nh")
debug_color = Color(0, 0.595, 0.7, 0.00392157)

[node name="marker2d" type="Marker2D" parent="rinse"]

[node name="refrigerator" parent="." instance=ExtResource("2_l0egd")]
visible = false
position = Vector2(383, 879)

[node name="spoonHolder" parent="." node_paths=PackedStringArray("spoon") instance=ExtResource("10_u3nf1")]
position = Vector2(960, 575)
spoon = NodePath("../spoon")

[node name="mugs" type="Node2D" parent="."]

[node name="mug" parent="mugs" instance=ExtResource("14_x84ws")]
position = Vector2(1377, 297.563)

[node name="mug3" parent="mugs" instance=ExtResource("14_x84ws")]
position = Vector2(1261, 305.563)

[node name="mug2" parent="mugs" instance=ExtResource("14_x84ws")]
position = Vector2(1156, 299.563)

[node name="mug4" parent="mugs" instance=ExtResource("14_x84ws")]
position = Vector2(1082, 310.563)

[node name="mugSpawn" type="Node2D" parent="mugs" node_paths=PackedStringArray("parent", "spawnpoint")]
position = Vector2(1700, 941)
script = ExtResource("12_sis4o")
parent = NodePath("..")
spawnpoint = NodePath("spawnpoint")

[node name="area2d" type="Area2D" parent="mugs/mugSpawn"]

[node name="collisionShape2d" type="CollisionShape2D" parent="mugs/mugSpawn/area2d"]
shape = SubResource("RectangleShape2D_tcjvv")
debug_color = Color(0, 0.596078, 0.701961, 0)

[node name="spawnpoint" type="Marker2D" parent="mugs/mugSpawn"]
position = Vector2(-197, -5)

[node name="portafilters" type="Node2D" parent="."]

[node name="portafilterHook" parent="portafilters" node_paths=PackedStringArray("heldFilter") instance=ExtResource("13_o2i7c")]
position = Vector2(443, 228)
heldFilter = NodePath("../portafilter")

[node name="portafilterHook2" parent="portafilters" node_paths=PackedStringArray("heldFilter") instance=ExtResource("13_o2i7c")]
position = Vector2(559, 264)
heldFilter = NodePath("../portafilter2")

[node name="portafilter" parent="portafilters" instance=ExtResource("16_1hpvy")]
z_index = 1
position = Vector2(455, 271)

[node name="portafilter2" parent="portafilters" instance=ExtResource("16_1hpvy")]
z_index = 1
position = Vector2(561, 300)

[node name="drinkSubmit" type="Node2D" parent="."]
script = ExtResource("22_7jnac")

[node name="trayMat" type="Area2D" parent="drinkSubmit"]
position = Vector2(1794, 690)

[node name="sprite2d" type="Sprite2D" parent="drinkSubmit/trayMat"]
position = Vector2(-103, -42)
scale = Vector2(6.65625, 3.39063)
texture = SubResource("GradientTexture2D_pteax")

[node name="collisionShape2d" type="CollisionShape2D" parent="drinkSubmit/trayMat"]
position = Vector2(-103.5, -42)
shape = SubResource("RectangleShape2D_q06cy")
debug_color = Color(0, 0.596078, 0.701961, 0.0235294)

[node name="glow" type="Sprite2D" parent="drinkSubmit"]
visible = false
self_modulate = Color(0.886275, 0.819608, 1, 0.509804)
position = Vector2(1696, 646)
scale = Vector2(2.432, 1.50625)
texture = SubResource("CompressedTexture2D_eb43u")

[node name="sprite2d" type="Sprite2D" parent="."]
position = Vector2(164, 264)
scale = Vector2(3.9375, 4.8125)
texture = SubResource("GradientTexture2D_fefls")

[node name="spoon" parent="." instance=ExtResource("15_ar1tk")]
position = Vector2(1011, 754)

[node name="tamper" parent="." instance=ExtResource("16_o3ts7")]
position = Vector2(597, 555)

[connection signal="input_event" from="rinse/area2d" to="rinse" method="_on_area_2d_input_event"]
[connection signal="mouse_entered" from="rinse/area2d" to="rinse" method="_on_area_2d_mouse_entered"]
[connection signal="mouse_exited" from="rinse/area2d" to="rinse" method="_on_area_2d_mouse_exited"]
[connection signal="input_event" from="mugs/mugSpawn/area2d" to="mugs/mugSpawn" method="_on_area_2d_input_event"]
[connection signal="input_event" from="drinkSubmit/trayMat" to="drinkSubmit" method="_on_area_2d_input_event"]
